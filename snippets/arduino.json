{
    "gettemperature": {
        "prefix": "iot-temperature",
        "body": [
            "#include \"HTS221Sensor.h\"",
            "\t$0",
            "DevI2C *i2c;",
            "HTS221Sensor *sensor;",
            "",
            "void SensorInit()",
            "{",
            "    i2c = new DevI2C(D14, D15);",
            "    sensor = new HTS221Sensor(*i2c);",
            "    sensor->init(NULL);",
            "}",

            "float readTemperature()",
            "{",
            "    sensor->reset();",
            "    float temperature = 0;",
            "    sensor->getTemperature(&temperature);",
            "    return temperature;",
            "}"
        ],
        "description": "Functions to get temperature data"
    },
    "initwifi": {
        "prefix": "iot-initwifi",
        "body": [
            "#include \"AZ3166WiFi.h\"",
            "\t$0",
            "bool InitWifi()",
            "{",
            "    if (WiFi.begin() == WL_CONNECTED)",
            "    {",
            "        IPAddress ip = WiFi.localIP();",
            "        return true;",
            "    }",
            "    else",
            "    {",
            "        return false;",
            "    }",
            "}"
        ],
        "description": "Functions to init WiFi"
    },
    "initMqttClient": {
        "prefix": "iot-initMqtt",
        "body": [
            "//Please include the following header file",
            "//#include \"DevKitMQTTClient.h\"",
            "",
            "DevKitMQTTClient_Init(${0:true});",
            "//DevKitMQTTClient_SetSendConfirmationCallback(SendConfirmationCallback);",
            "//DevKitMQTTClient_SetMessageCallback(MessageCallback);",
            "//DevKitMQTTClient_SetDeviceTwinCallback(DeviceTwinCallback);",
            "//DevKitMQTTClient_SetDeviceMethodCallback(DeviceMethodCallback);"
        ],
        "description": "Initialize Mqtt client"
    },
    "mqttSendData": {
        "prefix": "iot-MqttSend",
        "body": [
            "int ${1:length} = 256;",
            "char ${2:payLoad}[${1:length}];",
            "",
            "//TODO: Generate message data",
            "",
            "EVENT_INSTANCE* ${3:message} = DevKitMQTTClient_Event_Generate(${2:payLoad}, ${4|MESSAGE,STATE|});",
            "DevKitMQTTClient_Event_AddProp(${3:message}, ${5:propertyName}, ${6:propertyValue});",
            "DevKitMQTTClient_SendEventInstance(${3:message});"
        ],
        "description": "code to send Mqtt data to IoTHub"
    }
}